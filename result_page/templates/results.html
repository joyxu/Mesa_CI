<html xmlns="http://www.w3.org/TR/xhtml1/strict">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Mesa i965 CI results</title>
    <link rel="stylesheet" href="/static/main.css"/>
    <link rel="stylesheet" href="/static/solarized-dark.css"/>
  </head>
  <body>
    <title>Mesa i965 CI results</title>
    <h1>Results for {{ job }}/{{ build_name }}/{{ group_name }}:</h1>
    {% for link in top_links %}
    <a href="{{ link["href"] }}">{{ link["text"] }}</a>
    {% endfor %}
    
    {% if subgroups %}
    <div class="content">
      <h2>Subgroups</h2>
      <table style="width:100%">
        <colgroup>
          <col/>
          <col/>
          <col/>
          <col/>
        </colgroup>
        <tr>
          <th>Group Name</th>
          <th>Pass Count</th>
          <th>Filtered Pass Count</th>
          <th>Fail Count</th>
        </tr>
        {% for subgroup in subgroups %}
        <tr>
          <td><a href="{{ subgroup["subgroup_id"] }}">{{ subgroup["subgroup_name"] }}</a></td>
          <td>{{ subgroup["pass_count"] }}</td>
          {% if subgroup["filtered_pass_count"] %}
          <td class="skip">{{ subgroup["filtered_fail_count"] }}</td>
          {% else %}
          <td>{{ subgroup["filtered_pass_count"] }}</td>
          {% endif %}
          {% if subgroup["fail_count"] %}
          <td class="fail">{{ subgroup["fail_count"] }}</td>
          {% else %}
          <td>{{ subgroup["fail_count"] }}</td>
          {% endif %}
        </tr>
        {% endfor %}
      </table>
    </div>
    {% endif %}

    {% if test_results %}
    <div class="content">
      <h2>tests</h2>
      <table style="width:100%">
        <colgroup>
          <col/>
          <col/>
          <col/>
          <col/>
          <col/>
        </colgroup>
        <tr>
          <th>Test</th>
          <th>Hardware</th>
          <th>Architecture</th>
          <th>Status</th>
          <th>Filtered Status</th>
        </tr>
        {% for test_result in test_results %}
        <tr>
          <td><a href="../results/{{ test_result["result_id"] }}">{{ test_result["test_name"] }}</a></td>
          <td>{{ test_result["hardware"] }}</td>
          <td>{{ test_result["arch"] }}</td>
          <td class="{{ test_result["status"] }}">{{ test_result["status"] }}</td>
          <td class="{{ test_result["filtered_status"] }}">{{ test_result["filtered_status"] }}</td>
        </tr>
        {% endfor %}
      </table>
    </div>
    {% endif %}

    {% if fails %}
    <div class="content">
      <h2>failures</h2>
      <table style="width:100%">
        <colgroup>
          <col/>
          <col/>
          <col/>
          <col/>
          <col/>
          <col/>
        </colgroup>
        <tr>
          <th>Test Name</th>
          <th>Hardware</th>
          <th>Architecture</th>
          <th>Status</th>
          <th>Filtered Status</th>
          <th>Time</th>
        </tr>
        {% for fail in fails %}
        <tr>
          <td><a href="../results/{{ fail["result_id"] }}">{{ fail["test_name"] }}</a></td>
          <td>{{ fail["hardware"] }}</td>
          <td>{{ fail["arch"] }}</td>
          <td class="{{ fail["status"] }}">{{ fail["status"] }}</td>
          <td class="{{ fail["filtered_status"] }}">{{ fail["filtered_status"] }}</td>
          <td>{{ fail["time"] }}</td>
        </tr>
        {% endfor %}
      </table>
    </div>
    {% endif %}

  </body>
</html>
